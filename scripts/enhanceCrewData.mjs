import fs from "fs";
import path, { dirname } from "path";
import { fileURLToPath } from "url";

// ES Modules fix for __dirname
const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

// Import city files directly
const cityFiles = [
  "auckland",
  "amsterdam",
  "barcelona",
  "berlin",
  "boston",
  "buenos-aires",
  "cape-town",
  "charleston",
  "copenhagen",
  "dubai",
  "dublin",

  "florence",
  "fort-lauderdale",
  "galveston",
  "hong-kong",
  "kiel",
  "kyoto",
  "lisbon",
  "london",
  "los-angeles",
  "melbourne",
  "miami",
  "milan",
  "montreal",

  "new-orleans",
  "new-york-city",
  "paris",
  "quebec-city",
  "rio-de-janeiro",
  "rome",
  "san-francisco",
  "san-juan",
  "seattle",
  "singapore",

  "southampton",
  "sydney",
  "tampa",
  "tokyo",
  "toronto",
  "vancouver",
  "venice",
  "yokohama",
];

// City-specific data
const cityData = {
  auckland: {
    country: "New Zealand",
    region: "Auckland Region",
    languages: ["English", "Māori", "Samoan", "Mandarin", "Hindi"],
    firstNames: [
      "Oliver",
      "Charlotte",
      "Noah",
      "Isla",
      "Jack",
      "Amelia",
      "Leo",
      "Olivia",
      "Lucas",
      "Emily",
    ],
    lastNames: [
      "Smith",
      "Williams",
      "Brown",
      "Taylor",
      "Wilson",
      "Jones",
      "Thompson",
      "Anderson",
      "White",
      "Harris",
    ],
  },

  amsterdam: {
    country: "Netherlands",
    region: "North Holland",
    languages: ["Dutch", "English", "Turkish", "Arabic", "German"],
    firstNames: [
      "Daan",
      "Emma",
      "Sem",
      "Tess",
      "Milan",
      "Sophie",
      "Lucas",
      "Julia",
      "Finn",
      "Anna",
    ],
    lastNames: [
      "de Jong",
      "Jansen",
      "de Vries",
      "van den Berg",
      "Bakker",
      "Visser",
      "Smit",
      "Meijer",
      "Mulder",
      "de Boer",
    ],
  },

  barcelona: {
    country: "Spain",
    region: "Catalonia",
    languages: ["Spanish", "Catalan", "English", "French", "Arabic"],
    firstNames: [
      "Hugo",
      "Lucía",
      "Daniel",
      "Martina",
      "Pablo",
      "Sofía",
      "Alejandro",
      "Paula",
      "Adrián",
      "María",
    ],
    lastNames: [
      "García",
      "Martínez",
      "López",
      "Sánchez",
      "Pérez",
      "Gómez",
      "Fernández",
      "Rodríguez",
      "Moreno",
      "Jiménez",
    ],
  },

  berlin: {
    country: "Germany",
    region: "Berlin",
    languages: ["German", "English", "Turkish", "Arabic", "Russian"],
    firstNames: [
      "Ben",
      "Emma",
      "Paul",
      "Mia",
      "Leon",
      "Hannah",
      "Finn",
      "Emilia",
      "Elias",
      "Sophia",
    ],
    lastNames: [
      "Müller",
      "Schmidt",
      "Schneider",
      "Fischer",
      "Weber",
      "Meyer",
      "Wagner",
      "Becker",
      "Hoffmann",
      "Schäfer",
    ],
  },

  boston: {
    country: "United States",
    state: "Massachusetts",
    region: "Northeast",
    languages: ["English", "Spanish", "Chinese", "Portuguese", "Vietnamese"],
    firstNames: [
      "Liam",
      "Emma",
      "Noah",
      "Olivia",
      "William",
      "Ava",
      "James",
      "Isabella",
      "Benjamin",
      "Sophia",
    ],
    lastNames: [
      "Smith",
      "Johnson",
      "Williams",
      "Brown",
      "Jones",
      "Garcia",
      "Miller",
      "Davis",
      "Rodriguez",
      "Martinez",
    ],
  },

  "buenos-aires": {
    country: "Argentina",
    region: "Buenos Aires Province",
    languages: ["Spanish", "English", "Italian", "Portuguese"],
    firstNames: [
      "Mateo",
      "Sofía",
      "Santiago",
      "Isabella",
      "Benjamín",
      "Valentina",
      "Lucas",
      "Emma",
      "Martín",
      "Olivia",
      "Joaquín",
      "Mía",
      "Nicolás",
      "Catalina",
      "Tomás",
      "Camila",
      "Thiago",
      "Lucía",
    ],
    lastNames: [
      "González",
      "Rodríguez",
      "Fernández",
      "López",
      "Martínez",
      "García",
      "Pérez",
      "Gómez",
      "Sánchez",
      "Romero",
      "Torres",
      "Díaz",
      "Vázquez",
      "Ramírez",
      "Castro",
      "Alvarez",
      "Ruiz",
    ],
  },

  "cape-town": {
    country: "South Africa",
    region: "Western Cape",
    languages: ["Afrikaans", "English", "Xhosa", "Zulu", "Sesotho"],
    firstNames: [
      "Liam",
      "Emma",
      "Noah",
      "Olivia",
      "Ethan",
      "Ava",
      "Jacob",
      "Isabella",
      "Michael",
      "Sophia",
    ],
    lastNames: [
      "Smith",
      "Naidoo",
      "Petersen",
      "Botha",
      "Mokoena",
      "Van der Merwe",
      "Khumalo",
      "Ngcobo",
      "Jacobs",
      "Williams",
    ],
  },

  charleston: {
    country: "United States",
    state: "South Carolina",
    region: "Southeast",
    languages: ["English", "Spanish", "French", "German", "Gullah"],
    firstNames: [
      "James",
      "Mary",
      "John",
      "Patricia",
      "Robert",
      "Jennifer",
      "Michael",
      "Linda",
      "William",
      "Elizabeth",
    ],
    lastNames: [
      "Smith",
      "Johnson",
      "Williams",
      "Brown",
      "Jones",
      "Davis",
      "Miller",
      "Wilson",
      "Moore",
      "Taylor",
    ],
  },

  copenhagen: {
    country: "Denmark",
    region: "Capital Region",
    languages: ["Danish", "English", "Arabic", "Turkish", "German"],
    firstNames: [
      "William",
      "Emma",
      "Noah",
      "Ida",
      "Lucas",
      "Sofia",
      "Victor",
      "Freja",
      "Oliver",
      "Anna",
    ],
    lastNames: [
      "Jensen",
      "Nielsen",
      "Hansen",
      "Pedersen",
      "Andersen",
      "Christensen",
      "Larsen",
      "Sorensen",
      "Rasmussen",
      "Jorgensen",
    ],
  },

  dubai: {
    country: "United Arab Emirates",
    region: "Dubai",
    languages: ["Arabic", "English", "Hindi", "Urdu", "Tagalog"],
    firstNames: [
      "Mohammed",
      "Fatima",
      "Ahmed",
      "Aisha",
      "Ali",
      "Maryam",
      "Omar",
      "Noor",
      "Hassan",
      "Salma",
    ],
    lastNames: [
      "Al-Farsi",
      "Khan",
      "Patel",
      "Ahmed",
      "Ali",
      "Hussain",
      "Abdullah",
      "Mohammed",
      "Rahman",
      "Sheikh",
    ],
  },

  dublin: {
    country: "Ireland",
    region: "Leinster",
    languages: ["English", "Irish", "Polish", "French", "Lithuanian"],
    firstNames: [
      "Jack",
      "Emily",
      "James",
      "Emma",
      "Daniel",
      "Sophie",
      "Conor",
      "Ella",
      "Sean",
      "Grace",
    ],
    lastNames: [
      "Murphy",
      "Kelly",
      "O'Sullivan",
      "Walsh",
      "Smith",
      "O'Brien",
      "Byrne",
      "Ryan",
      "O'Connor",
      "Doyle",
    ],
  },

  florence: {
    country: "Italy",
    region: "Tuscany",
    languages: ["Italian", "English", "French", "German", "Spanish"],
    firstNames: [
      "Alessandro",
      "Giulia",
      "Lorenzo",
      "Martina",
      "Francesco",
      "Chiara",
      "Matteo",
      "Sofia",
      "Leonardo",
      "Valentina",
    ],
    lastNames: [
      "Rossi",
      "Bianchi",
      "Ferrari",
      "Romano",
      "Gallo",
      "Costa",
      "Conti",
      "De Luca",
      "Greco",
      "Marino",
    ],
  },
  "fort-lauderdale": {
    country: "United States",
    state: "Florida",
    region: "Southeast",
    languages: ["English", "Spanish", "Haitian Creole", "Portuguese", "French"],
    firstNames: [
      "Liam",
      "Emma",
      "Noah",
      "Olivia",
      "Lucas",
      "Ava",
      "Ethan",
      "Isabella",
      "Mason",
      "Sophia",
    ],
    lastNames: [
      "Smith",
      "Johnson",
      "Garcia",
      "Martinez",
      "Rodriguez",
      "Williams",
      "Brown",
      "Davis",
      "Lopez",
      "Hernandez",
    ],
  },
  galveston: {
    country: "United States",
    state: "Texas",
    region: "South",
    languages: ["English", "Spanish", "Vietnamese", "Tagalog", "German"],
    firstNames: [
      "James",
      "Emma",
      "William",
      "Olivia",
      "Benjamin",
      "Ava",
      "Elijah",
      "Isabella",
      "Lucas",
      "Mia",
    ],
    lastNames: [
      "Smith",
      "Johnson",
      "Garcia",
      "Martinez",
      "Hernandez",
      "Williams",
      "Brown",
      "Davis",
      "Lopez",
      "Gonzalez",
    ],
  },
  "hong-kong": {
    country: "China",
    region: "Hong Kong SAR",
    languages: ["Cantonese", "English", "Mandarin"],
    firstNames: [
      "Chun Hei",
      "Wing Yan",
      "Ka Ho",
      "Tsz Ching",
      "Man Wai",
      "Hiu Tung",
      "Lok Yi",
      "Siu Ming",
      "Ying Yue",
      "Ho Yin",
    ],
    lastNames: [
      "Chan",
      "Wong",
      "Lee",
      "Cheung",
      "Lau",
      "Ng",
      "Lam",
      "Cheng",
      "Leung",
      "Ho",
    ],
  },
  kiel: {
    country: "Germany",
    region: "Schleswig-Holstein",
    languages: ["German", "English", "Danish", "Polish", "Russian"],
    firstNames: [
      "Lukas",
      "Emma",
      "Finn",
      "Hannah",
      "Leon",
      "Mia",
      "Paul",
      "Lea",
      "Jonas",
      "Lina",
    ],
    lastNames: [
      "Müller",
      "Schmidt",
      "Schneider",
      "Fischer",
      "Weber",
      "Meyer",
      "Wagner",
      "Becker",
      "Hoffmann",
      "Schulz",
    ],
  },
  kyoto: {
    country: "Japan",
    region: "Kansai",
    languages: ["Japanese", "English", "Mandarin", "Korean"],
    firstNames: [
      "Haruto",
      "Yui",
      "Souta",
      "Aoi",
      "Yuto",
      "Rin",
      "Kaito",
      "Hina",
      "Ren",
      "Sakura",
    ],
    lastNames: [
      "Sato",
      "Suzuki",
      "Takahashi",
      "Tanaka",
      "Watanabe",
      "Ito",
      "Yamamoto",
      "Kobayashi",
      "Matsumoto",
      "Inoue",
    ],
  },
  lisbon: {
    country: "Portugal",
    region: "Lisbon Metropolitan Area",
    languages: ["Portuguese", "English", "Spanish", "French"],
    firstNames: [
      "João",
      "Maria",
      "Francisco",
      "Ana",
      "Pedro",
      "Inês",
      "Miguel",
      "Beatriz",
      "Tiago",
      "Carolina",
    ],
    lastNames: [
      "Silva",
      "Santos",
      "Ferreira",
      "Pereira",
      "Costa",
      "Oliveira",
      "Martins",
      "Rodrigues",
      "Sousa",
      "Fernandes",
    ],
  },
  london: {
    country: "United Kingdom",
    region: "Greater London",
    languages: ["English", "Polish", "Bengali", "Gujarati", "Urdu"],
    firstNames: [
      "Oliver",
      "Amelia",
      "George",
      "Isla",
      "Harry",
      "Ava",
      "Jack",
      "Emily",
      "Charlie",
      "Sophia",
    ],
    lastNames: [
      "Smith",
      "Jones",
      "Taylor",
      "Brown",
      "Williams",
      "Wilson",
      "Johnson",
      "Davies",
      "Patel",
      "Khan",
    ],
  },
  "los-angeles": {
    country: "United States",
    state: "California",
    region: "West",
    languages: ["English", "Spanish", "Korean", "Tagalog", "Chinese"],
    firstNames: [
      "Noah",
      "Emma",
      "Liam",
      "Olivia",
      "Jacob",
      "Sophia",
      "Ethan",
      "Isabella",
      "Daniel",
      "Mia",
    ],
    lastNames: [
      "Garcia",
      "Smith",
      "Hernandez",
      "Johnson",
      "Lopez",
      "Brown",
      "Martinez",
      "Davis",
      "Gonzalez",
      "Rodriguez",
    ],
  },
  melbourne: {
    country: "Australia",
    state: "Victoria",
    region: "Oceania",
    languages: ["English", "Mandarin", "Vietnamese", "Greek", "Italian"],
    firstNames: [
      "Oliver",
      "Charlotte",
      "Noah",
      "Olivia",
      "William",
      "Amelia",
      "Jack",
      "Isla",
      "Leo",
      "Mia",
    ],
    lastNames: [
      "Smith",
      "Nguyen",
      "Williams",
      "Jones",
      "Brown",
      "Singh",
      "Kaur",
      "Taylor",
      "Wilson",
      "Ali",
    ],
  },
  miami: {
    country: "United States",
    state: "Florida",
    region: "Southeast",
    languages: ["English", "Spanish", "Haitian Creole", "Portuguese", "French"],
    firstNames: [
      "Liam",
      "Emma",
      "Noah",
      "Olivia",
      "Lucas",
      "Ava",
      "Ethan",
      "Isabella",
      "Mason",
      "Sophia",
    ],
    lastNames: [
      "Garcia",
      "Rodriguez",
      "Martinez",
      "Hernandez",
      "Lopez",
      "Gonzalez",
      "Perez",
      "Sanchez",
      "Ramirez",
      "Torres",
    ],
  },
  milan: {
    country: "Italy",
    region: "Lombardy",
    languages: ["Italian", "English", "French", "Spanish", "German"],
    firstNames: [
      "Alessandro",
      "Giulia",
      "Lorenzo",
      "Martina",
      "Francesco",
      "Chiara",
      "Matteo",
      "Sofia",
      "Leonardo",
      "Valentina",
    ],
    lastNames: [
      "Rossi",
      "Bianchi",
      "Ferrari",
      "Romano",
      "Gallo",
      "Costa",
      "Conti",
      "De Luca",
      "Greco",
      "Marino",
    ],
  },
  montreal: {
    country: "Canada",
    province: "Quebec",
    region: "Eastern Canada",
    languages: ["French", "English", "Arabic", "Spanish", "Mandarin"],
    firstNames: [
      "Liam",
      "Emma",
      "Noah",
      "Olivia",
      "William",
      "Charlotte",
      "Jacob",
      "Sophia",
      "Thomas",
      "Ava",
    ],
    lastNames: [
      "Tremblay",
      "Gagnon",
      "Roy",
      "Côté",
      "Bouchard",
      "Gauthier",
      "Morin",
      "Lavoie",
      "Fortin",
      "Gagné",
    ],
  },

  "new-orleans": {
    country: "United States",
    state: "Louisiana",
    region: "South",
    languages: ["English", "French", "Spanish", "Vietnamese", "Creole"],
    firstNames: [
      "James",
      "Emma",
      "John",
      "Olivia",
      "William",
      "Ava",
      "Michael",
      "Isabella",
      "David",
      "Sophia",
    ],
    lastNames: [
      "Smith",
      "Johnson",
      "Williams",
      "Brown",
      "Jones",
      "Davis",
      "Miller",
      "Wilson",
      "Taylor",
      "Anderson",
    ],
  },

  paris: {
    country: "France",
    region: "Île-de-France",
    languages: ["French", "English", "Arabic", "Spanish", "Portuguese"],
    firstNames: [
      "Louis",
      "Emma",
      "Gabriel",
      "Chloé",
      "Jules",
      "Inès",
      "Léo",
      "Camille",
      "Lucas",
      "Manon",
    ],
    lastNames: [
      "Martin",
      "Bernard",
      "Dubois",
      "Thomas",
      "Robert",
      "Richard",
      "Petit",
      "Durand",
      "Leroy",
      "Moreau",
    ],
  },

  "quebec-city": {
    country: "Canada",
    province: "Quebec",
    region: "Eastern Canada",
    languages: ["French", "English", "Spanish", "Arabic"],
    firstNames: [
      "Olivier",
      "Emma",
      "Léa",
      "William",
      "Alice",
      "Noah",
      "Florence",
      "Nathan",
      "Charlotte",
      "Thomas",
    ],
    lastNames: [
      "Tremblay",
      "Roy",
      "Gagnon",
      "Côté",
      "Bouchard",
      "Morin",
      "Gauthier",
      "Fortin",
      "Lavoie",
      "Gagné",
    ],
  },

  "rio-de-janeiro": {
    country: "Brazil",
    state: "Rio de Janeiro",
    region: "Southeast",
    languages: ["Portuguese", "English", "Spanish", "French"],
    firstNames: [
      "João",
      "Maria",
      "Gabriel",
      "Ana",
      "Pedro",
      "Beatriz",
      "Lucas",
      "Camila",
      "Mateus",
      "Larissa",
    ],
    lastNames: [
      "Silva",
      "Santos",
      "Oliveira",
      "Souza",
      "Lima",
      "Pereira",
      "Carvalho",
      "Ferreira",
      "Rodrigues",
      "Almeida",
    ],
  },

  "san-francisco": {
    country: "United States",
    state: "California",
    region: "West",
    languages: ["English", "Spanish", "Mandarin", "Cantonese", "Tagalog"],
    firstNames: [
      "Liam",
      "Emma",
      "Noah",
      "Olivia",
      "Ethan",
      "Isabella",
      "James",
      "Mia",
      "Benjamin",
      "Sophia",
    ],
    lastNames: [
      "Smith",
      "Nguyen",
      "Lee",
      "Chen",
      "Garcia",
      "Rodriguez",
      "Wang",
      "Kim",
      "Lopez",
      "Chan",
    ],
  },

  "san-juan": {
    country: "Puerto Rico",
    region: "Caribbean",
    languages: ["Spanish", "English"],
    firstNames: [
      "José",
      "Camila",
      "Luis",
      "Isabella",
      "Carlos",
      "Sofía",
      "Javier",
      "Valeria",
      "Miguel",
      "Lucía",
    ],
    lastNames: [
      "Rodríguez",
      "González",
      "Martínez",
      "Pérez",
      "Sánchez",
      "Díaz",
      "Torres",
      "Ramírez",
      "Rivera",
      "Vega",
    ],
  },

  seattle: {
    country: "United States",
    state: "Washington",
    region: "Pacific Northwest",
    languages: ["English", "Spanish", "Vietnamese", "Tagalog", "Somali"],
    firstNames: [
      "Liam",
      "Emma",
      "Noah",
      "Olivia",
      "Mason",
      "Ava",
      "Ethan",
      "Isabella",
      "James",
      "Sophia",
    ],
    lastNames: [
      "Smith",
      "Johnson",
      "Anderson",
      "Nguyen",
      "Garcia",
      "Lee",
      "Martinez",
      "Davis",
      "Brown",
      "Clark",
    ],
  },

  singapore: {
    country: "Singapore",
    region: "Southeast Asia",
    languages: [
      "English",
      "Mandarin",
      "Malay",
      "Tamil",
      "Hokkien",
      "Cantonese",
      "Teochew",
    ],
    firstNames: [
      "Wei Jie",
      "Hui Min",
      "Jun Jie",
      "Xin Yi",
      "Yi Xuan",
      "Mei Ling",
      "Jia Hao",
      "Li Ying",
      "Ming Zhe",
      "Siti",
      "Raj",
      "Kumar",
      "Aisha",
      "Muhammad",
      "Nurul",
      "Dinesh",
      "Jin Hao",
      "Shanice",
      "Yi Jie",
      "Xiao Wei",
    ],
    lastNames: [
      "Tan",
      "Lee",
      "Lim",
      "Wong",
      "Ng",
      "Chen",
      "Kumar",
      "Singh",
      "Mohammed",
      "Abdullah",
      "Zhang",
      "Wu",
      "Teo",
      "Shah",
      "Goh",
      "Yeo",
      "Chua",
      "Liew",
      "Toh",
      "Seah",
    ],
  },
  southampton: {
    country: "United Kingdom",
    region: "South East England",
    languages: ["English", "Polish", "Punjabi", "Bengali", "Urdu"],
    firstNames: [
      "Oliver",
      "George",
      "Harry",
      "Jack",
      "Charlie",
      "Amelia",
      "Olivia",
      "Isla",
      "Emily",
      "Ava",
    ],
    lastNames: [
      "Smith",
      "Jones",
      "Taylor",
      "Brown",
      "Williams",
      "Wilson",
      "Johnson",
      "Davies",
      "Robinson",
      "Wright",
    ],
  },

  sydney: {
    country: "Australia",
    state: "New South Wales",
    region: "Oceania",
    languages: [
      "English",
      "Mandarin",
      "Arabic",
      "Cantonese",
      "Vietnamese",
      "Hindi",
      "Greek",
      "Italian",
      "Korean",
      "Tagalog",
      "Spanish",
    ],
    firstNames: [
      "Oliver",
      "Noah",
      "William",
      "Jack",
      "Thomas",
      "James",
      "Henry",
      "Liam",
      "Lucas",
      "Ethan",
      "Charlotte",
      "Olivia",
      "Ava",
      "Amelia",
      "Isla",
      "Mia",
      "Grace",
      "Chloe",
      "Sophie",
      "Emily",
    ],
    lastNames: [
      "Smith",
      "Brown",
      "Wilson",
      "Williams",
      "Taylor",
      "Jones",
      "Johnson",
      "Thompson",
      "Nguyen",
      "Wang",
      "Li",
      "Chen",
      "Zhang",
      "Lee",
      "Patel",
      "Singh",
      "Kumar",
      "Liu",
      "Tran",
      "Kim",
    ],
  },

  tampa: {
    country: "United States",
    state: "Florida",
    region: "Southeast",
    languages: ["English", "Spanish", "Haitian Creole", "French"],
    firstNames: [
      "Liam",
      "Noah",
      "William",
      "James",
      "Benjamin",
      "Emma",
      "Olivia",
      "Ava",
      "Sophia",
      "Isabella",
    ],
    lastNames: [
      "Smith",
      "Johnson",
      "Williams",
      "Brown",
      "Jones",
      "Garcia",
      "Martinez",
      "Rodriguez",
      "Lopez",
      "Gonzalez",
    ],
  },

  tokyo: {
    country: "Japan",
    region: "Kanto",
    languages: ["Japanese", "English", "Chinese", "Korean"],
    firstNames: [
      "Haruto",
      "Yui",
      "Sota",
      "Hina",
      "Yuki",
      "Sakura",
      "Ren",
      "Mao",
      "Kaito",
      "Rin",
    ],
    lastNames: [
      "Sato",
      "Suzuki",
      "Takahashi",
      "Tanaka",
      "Watanabe",
      "Ito",
      "Yamamoto",
      "Nakamura",
      "Kobayashi",
      "Kato",
    ],
  },

  toronto: {
    country: "Canada",
    province: "Ontario",
    region: "Central Canada",
    languages: [
      "English",
      "French",
      "Punjabi",
      "Italian",
      "Spanish",
      "Tagalog",
      "Chinese",
    ],
    firstNames: [
      "Liam",
      "Noah",
      "Oliver",
      "Benjamin",
      "William",
      "Emma",
      "Olivia",
      "Charlotte",
      "Amelia",
      "Sophia",
    ],
    lastNames: [
      "Smith",
      "Brown",
      "Wilson",
      "Johnson",
      "Taylor",
      "Martin",
      "Lee",
      "Walker",
      "Campbell",
      "White",
    ],
  },

  vancouver: {
    country: "Canada",
    region: "British Columbia",
    languages: [
      "English",
      "French",
      "Mandarin",
      "Cantonese",
      "Punjabi",
      "Tagalog",
      "Korean",
      "Vietnamese",
      "Hindi",
      "Spanish",
      "Farsi",
      "Japanese",
    ],
    firstNames: [
      "Liam",
      "Noah",
      "Lucas",
      "Benjamin",
      "Ethan",
      "William",
      "Jackson",
      "Logan",
      "James",
      "Alexander",
      "Emma",
      "Olivia",
      "Charlotte",
      "Ava",
      "Sophia",
      "Emily",
      "Isla",
      "Chloe",
      "Amelia",
      "Mia",
    ],
    lastNames: [
      "Smith",
      "Brown",
      "Wilson",
      "Taylor",
      "Johnson",
      "Williams",
      "Lee",
      "Wong",
      "Chan",
      "Nguyen",
      "Chen",
      "Singh",
      "Patel",
      "Kim",
      "Sharma",
      "Li",
      "Zhang",
      "Garcia",
      "Liu",
      "Huang",
    ],
  },

  venice: {
    country: "Italy",
    region: "Veneto",
    languages: ["Italian", "English", "German", "French"],
    firstNames: [
      "Luca",
      "Giulia",
      "Matteo",
      "Francesca",
      "Alessandro",
      "Chiara",
      "Marco",
      "Sara",
      "Andrea",
      "Martina",
    ],
    lastNames: [
      "Rossi",
      "Bianchi",
      "Moretti",
      "Costa",
      "Russo",
      "Ferrari",
      "Bruni",
      "Galli",
      "Conti",
      "Romano",
    ],
  },

  yokohama: {
    country: "Japan",
    region: "Kanto",
    languages: ["Japanese", "English", "Chinese", "Korean"],
    firstNames: [
      "Haruki",
      "Yui",
      "Kaito",
      "Sakura",
      "Ren",
      "Mao",
      "Yuki",
      "Hina",
      "Daiki",
      "Rin",
    ],
    lastNames: [
      "Saito",
      "Fujimoto",
      "Kobayashi",
      "Tanaka",
      "Yamamoto",
      "Shimizu",
      "Nakamura",
      "Matsumoto",
      "Ito",
      "Kawasaki",
    ],
  },
};

// Function to enhance existing crew member data
function enhanceCityCrewData(city) {
  // Get city-specific data or use defaults
  const data = cityData[city] || {
    country: "United States",
    region: "General",
    languages: ["English", "Spanish", "French"],
    firstNames: [
      "James",
      "Mary",
      "John",
      "Patricia",
      "Robert",
      "Jennifer",
      "Michael",
      "Linda",
      "William",
      "Elizabeth",
      "David",
      "Susan",
      "Richard",
      "Jessica",
    ],
    lastNames: [
      "Smith",
      "Johnson",
      "Williams",
      "Brown",
      "Jones",
      "Garcia",
      "Miller",
      "Davis",
      "Rodriguez",
      "Martinez",
      "Wilson",
      "Anderson",
      "Taylor",
      "Thomas",
    ],
  };

  // Path to the crew members file
  const filePath = path.join(
    __dirname,
    "../src/lib/constants/crewMembers",
    `${city}.ts`
  );

  // Check if the file exists
  if (!fs.existsSync(filePath)) {
    console.log(`File not found for city: ${city}`);
    return;
  }

  // Read the file content
  const fileContent = fs.readFileSync(filePath, "utf8");

  // Parse the crew members array using a simple regex approach
  const match = fileContent.match(
    /export const \w+TeamMembers(:? ?=|: CrewMember\[\] =) (\[[\s\S]*\]);/
  );
  if (!match) {
    console.log(`Could not parse crew members for city: ${city}`);
    return;
  }

  try {
    // Parse the crew members JSON
    const crewMembersJson = match[2];
    const crewMembers = JSON.parse(crewMembersJson);

    // Enhance each crew member
    const enhancedCrewMembers = crewMembers.map((member) => {
      // Generate a random number of years of experience (5-25)
      const experienceYears =
        member.experienceYears || Math.floor(Math.random() * 20) + 5;

      // Select languages based on the city
      // Keep any existing languages but ensure at least 1-3 from the city's languages
      let languages = member.languages || [];
      if (languages.length === 0) {
        const numLanguages = Math.floor(Math.random() * 3) + 1;
        for (let i = 0; i < numLanguages; i++) {
          const cityLang =
            data.languages[Math.floor(Math.random() * data.languages.length)];
          if (!languages.includes(cityLang)) {
            languages.push(cityLang);
          }
        }
      }

      // Format city name from kebab-case to Title Case
      const formattedCity = city
        .split("-")
        .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
        .join(" ");

      // Generate profile image if missing
      const roleLower =
        member.role?.toLowerCase().replace(/\s+/g, "-") || "crew";
      const lastNameLower =
        member.name?.split(" ").pop().toLowerCase() || "default";
      const profileImage =
        member.profileImage || `/images/crew/${roleLower}-${lastNameLower}.jpg`;

      // Return enhanced crew member with all required properties
      return {
        ...member,
        name:
          member.name ||
          `${
            data.firstNames[Math.floor(Math.random() * data.firstNames.length)]
          } ${
            data.lastNames[Math.floor(Math.random() * data.lastNames.length)]
          }`,
        role: member.role || "Crew Member",
        department: member.department || "Hospitality Department",
        profileImage,
        city: formattedCity,
        country: data.country,
        state: data.state,
        region: data.region,
        languages,
        experienceYears,
        bio:
          member.bio ||
          `${
            member.name || "This crew member"
          } has ${experienceYears} years of experience providing exceptional service to our guests.`,
      };
    });

    // Create the updated file content
    const hasTypeAnnotation = fileContent.includes(": CrewMember[]");
    const updatedContent = fileContent.replace(
      match[0],
      hasTypeAnnotation
        ? `export const ${city.replace(
            /-/g,
            ""
          )}TeamMembers: CrewMember[] = ${JSON.stringify(
            enhancedCrewMembers,
            null,
            2
          )};`
        : `export const ${city.replace(/-/g, "")}TeamMembers = ${JSON.stringify(
            enhancedCrewMembers,
            null,
            2
          )};`
    );

    // Write the updated file
    fs.writeFileSync(filePath, updatedContent);
    console.log(`Enhanced crew data for ${city}`);
  } catch (error) {
    console.error(`Error enhancing crew data for ${city}:`, error);
  }
}

// Main function
async function main() {
  for (const city of cityFiles) {
    enhanceCityCrewData(city);
  }

  console.log("Crew data enhancement complete!");
}

main().catch(console.error);
